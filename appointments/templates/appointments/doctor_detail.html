<!-- appointments/doctor_detail.html -->
{% extends "base.html" %}
{% load static %}
{% block content %}

<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-md-7">

      <div class="card shadow-sm p-3 text-center">

        <!-- Profile Picture -->
        <div class="mb-2">
          {% if doctor.profile_pic %}
            <img src="{{ doctor.profile_pic.url }}" class="rounded-circle border border-2 border-primary mx-auto d-block" style="width:120px; height:120px; object-fit:cover;">
          {% else %}
            <img src="{% static 'doctor.jpg' %}" class="rounded-circle border border-2 border-primary mx-auto d-block" style="width:120px; height:120px; object-fit:cover;">
          {% endif %}
        </div>

        <!-- Name & Degrees -->
        <h3 class="fw-bold mb-1">{{ doctor.first_name }} {{ doctor.last_name }}</h3>
        {% if doctor.degrees %}
          <p class="text-primary fst-italic mb-1" style="font-size:0.9rem">{{ doctor.degrees }}</p>
        {% endif %}

        <!-- Specialization -->
        {% if doctor.specialization.all %}
          <p class="mb-1"><strong>Specialization:</strong> 
            {% for spec in doctor.specialization.all %}
              <span class="badge bg-info text-dark">{{ spec.name }}</span>
            {% endfor %}
          </p>
        {% endif %}

        <!-- Position & Hospital -->
        {% if doctor.position %}
          <p class="mb-1" style="font-size:0.9rem"><strong>Position:</strong> {{ doctor.position }}</p>
        {% endif %}
        {% if doctor.hospital_name %}
          <p class="mb-1" style="font-size:0.9rem"><strong>Hospital:</strong> {{ doctor.hospital_name }}</p>
        {% endif %}

        <!-- Contact Info -->
        {% if doctor.phone_number %}
          <p class="mb-1" style="font-size:0.9rem"><strong>Phone:</strong> {{ doctor.phone_number }}</p>
        {% endif %}
        {% if doctor.doctor_license %}
          <p class="mb-1" style="font-size:0.9rem"><strong>License:</strong> {{ doctor.doctor_license }}</p>
        {% endif %}

        <!-- About -->
        {% if doctor.about_me %}
          <hr>
          <h6 class="fw-bold mb-1">About</h6>
          <p class="text-muted" style="font-size:0.85rem">{{ doctor.about_me }}</p>
        {% endif %}

        <!-- Book Appointment Button -->
        <a href="{% url 'book_appointment' doctor.id %}" class="btn btn-success btn-sm mt-2 w-100">ðŸ“… Book Appointment</a>

      </div>
    </div>
  </div>
</div>

{% endblock %}
